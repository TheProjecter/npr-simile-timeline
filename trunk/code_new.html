<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<html lang="en">
<head>
<script language="JavaScript">
function getTopValue(){

headerLine1 = "\<script src=\"http://simile.mit.edu/timeline/api/timeline-api.js\" type=\"text/javascript\"\>\<\/script\>"
headerLine2 = "<script src=\"http://johntynan.com\/scripts\/timeline\/nprtimeline.js\" type=\"text\/javascript\">\<\/script\>";
headerCode =  headerLine1 + "\r" + headerLine2;
document.codeForm.headerCode.value = headerCode;

if (parent.parent.generatorFrame.document.generatorForm.timelineHeight.value == "") {
	heightString="height: " + "300" + "px\;";
} else {
	heightString="height: " + parent.parent.generatorFrame.document.generatorForm.timelineHeight.value + "px\;";
}
	
if (parent.parent.generatorFrame.document.generatorForm.timelineWidth.value == "") {
	widthString="width: 100%\""
} else {
	widthString="height: " + parent.parent.generatorFrame.document.generatorForm.timelineWidth.value + "px\;\"";
}
	
bodyLine1 = "\<body  onresize=\"onResize\(\)\;\" \>";
bodyLine2 = "\<div id=\"my-timeline\" class=\"timeline-default\" style=\"" + heightString  + widthString + "\>"
bodyLine3 = "\<script src=\""+ parent.parent.qgliteFrame.document.selectionForm.queryBox.value + "\&apiKey\=MDAxNzgwMDQ5MDEyMTQ4NzYyMjU4YmY1Yw004\&output\=JSON\&callback\=parseJSON\" type=\"text\/javascript\"\>\<\/script\>";
// bodyCode = bodyLine1 + "\r" + bodyLine2 + "\r" + bodyLine3;
bodyCode = bodyLine2 + "\r" + bodyLine3;
document.codeForm.bodyCode.value  = bodyCode
	
}
</script>
</head>
<body onLoad="getTopValue();">
<form name="codeForm">
<h2>Header Code</h2>
<textarea id="headerCode" rows="10" cols="50"></textarea>
<h2>Body Code</h2>
<textarea id="bodyCode" rows="10" cols="50"></textarea>
</form>
</body>
</html>